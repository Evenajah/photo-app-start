(this["webpackJsonpphoto-app"]=this["webpackJsonpphoto-app"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(6),r=n.n(s),i=(n(48),n(49),n(1)),o=function(e){return Object(i.jsx)("div",{className:"header p-grid",children:Object(i.jsxs)("div",{className:"p-col",children:[Object(i.jsx)("img",{width:"100px",alt:"header-img",loading:"lazy",src:"https://image.flaticon.com/icons/png/512/2659/2659360.png"}),Object(i.jsx)("span",{class:"header-text",children:"Photo App"})]})})},l=n(3),u=n.n(l),p=n(9),d=n(10),j=n(12),h=n(33),b=n(34),f=n(15),x=n(35),O=n(36),m=n.n(O),v=n(8),g=n(37),w=n(38),y=function(e){var t=Object(c.useState)(!0),n=Object(d.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)({title:"",description:"",photos:[]}),o=Object(d.a)(r,2),l=o[0],h=o[1],b=Object(c.useRef)();Object(c.useEffect)((function(){h(Object(v.a)({},e.formEdit[0]))}),[e.formEdit]),Object(c.useEffect)((function(){l.title&&l.description?s(!1):s(!0)}),[l]);var x=function(){if(b.current.files){var e=b.current.state.files.map((function(e){return function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))}(e)}));return Promise.all(e)}},O=function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,e.t0=h,e.t1=v.a,e.t2=Object(v.a)({},l),e.t3={},e.next=9,t;case 9:e.t4=e.sent,e.t5={photos:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),(0,e.t0)(e.t6);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsx)("div",{className:"p-col",children:Object(i.jsxs)("form",{onSubmit:function(t){!function(t){t.preventDefault(),e.onSaveClick(l)}(t)},children:[Object(i.jsx)(g.FileUpload,{ref:b,accept:"image/*",maxFileSize:1e6,onSelect:function(e){O()},onClear:function(e){h(Object(v.a)(Object(v.a)({},l),{},{photos:[]}))},mode:"basic",chooseOptions:{icon:"pi pi-fw pi-images",className:"custom-choose-btn p-button-rounded p-button-outlined"}}),Object(i.jsxs)("div",{className:"p-grid ",style:{marginTop:"20px"},children:[Object(i.jsx)("div",{className:"p-col-12 p-col-align-center",children:Object(i.jsx)("center",{children:Object(i.jsx)("img",{src:l.photos,style:{height:"400px",alignContent:"center"}})})}),Object(i.jsx)("div",{className:"p-col-12",children:Object(i.jsx)(f.InputText,{value:l.title,onChange:function(e){h(Object(v.a)(Object(v.a)({},l),{},{title:e.target.value}))},placeholder:"Title",className:"width-full-grid"})}),Object(i.jsx)("div",{className:"p-col-12 width-full-grid",children:Object(i.jsx)(w.InputTextarea,{placeholder:"Description",rows:4,value:l.description,onChange:function(e){h(Object(v.a)(Object(v.a)({},l),{},{description:e.target.value}))},className:"width-full-grid"})}),Object(i.jsx)("div",{className:"p-col-12",children:Object(i.jsx)(j.Button,{disabled:a,label:"Save",className:"width-full-grid"})})]})]})})},k=n(39),N=n.n(k).a.create({baseURL:"http://localhost:4000",headers:{"Content-type":"application/json"}}),S=n(40),C=n(41),F=function(e){var t=e.photo,n=t.photos&&Object(i.jsx)("center",{children:Object(i.jsx)(C.LazyLoadImage,{src:t.photos,alt:"Card",loading:"lazy",effect:"opacity",delayTime:1e3,onError:function(e){return e.target.src="https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png"},style:{height:"450px",minWidth:"300px"}})}),c=Object(i.jsxs)("span",{children:[Object(i.jsx)(j.Button,{label:"Edit",icon:"pi pi-pencil",onClick:function(){e.onEditClick(t.id)},style:{marginRight:".25em"}}),Object(i.jsx)(j.Button,{label:"Delete",icon:"pi pi-times",className:"p-button-secondary",onClick:function(){e.onDeleteClick(t.id)}})]});return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(S.Card,{footer:c,header:n,className:"card-photo p-shadow-3",children:[t.title,Object(i.jsx)("h1",{style:{fontFamily:"Mali",margin:"0px"}}),Object(i.jsx)("br",{}),t.description]})})},E=n(42),T=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(d.a)(s,2),o=r[0],l=r[1],O=Object(c.useState)("Add"),v=Object(d.a)(O,2),g=v[0],w=v[1],k=Object(c.useState)(!1),S=Object(d.a)(k,2),C=S[0],T=(S[1],Object(c.useRef)(null)),D=Object(c.useState)({title:"",description:"",photos:[]}),A=Object(d.a)(D,2),I=A[0],B=A[1];Object(c.useEffect)((function(){J()}),[]);var P=function(e,t,n){T.current.show({severity:t,summary:e,detail:n,life:3e3})},L=function(e){Object(h.confirmDialog)({message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){R(e)}})},R=function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.delete("/photos/"+t);case 3:return n=e.sent,e.next=6,n;case 6:200===e.sent.status&&(P("Success","success","Delete Success"),l(!1),J()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),P("Failed","error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w("Edit"),e.prev=1,e.next=4,N.get("photos/"+t);case 4:return n=e.sent,e.next=7,n;case 7:200===(c=e.sent).status&&(l(!0),B(c.data),console.log(c.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),P("Error","error",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),U=n&&n.map((function(e){return Object(i.jsx)("div",{className:"p-col-12 p-md-6 p-lg-4",children:Object(i.jsx)(F,{onDeleteClick:L,onEditClick:z,photo:e})},e.id)})),J=function(){var e=Object(p.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/photos");case 3:return t=e.sent,e.next=6,t;case 6:200===(n=e.sent).status&&(console.log(n.data),a(n.data)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),P("Failed","error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/photos",t);case 3:return n=e.sent,e.next=6,n;case 6:201===e.sent.status&&(P("Success","success","Insert Success"),l(!1),J()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),P("Failed","error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.put("/photos/".concat(t.id),t);case 3:return n=e.sent,e.next=6,n;case 6:200===e.sent.status&&(P("Success","success","Insert Success"),l(!1),J()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),P("Failed","error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),W=Object(E.debounce)(function(){var e=Object(p.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/photos?searchText="+t.target.value);case 3:return n=e.sent,e.next=6,n;case 6:200===(c=e.sent).status&&(console.log(c.data),a(c.data)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),P("Failed","error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),500),q=Object(i.jsx)(b.Dialog,{header:"".concat(g," Photo"),visible:o,blockScroll:!0,style:{width:1e3},onHide:function(){B({}),l(!1)},children:Object(i.jsx)("div",{className:"p-grid",children:Object(i.jsx)(y,{formEdit:I,onSaveClick:function(e){switch(g){case"Add":M(e);break;case"Edit":H(e)}}})})});return Object(i.jsxs)("div",{className:"p-grid",style:{marginTop:"200px"},children:[Object(i.jsx)(f.InputText,{placeholder:"Search",className:"width-full-grid search-input",onChange:function(e){W(e)}}),U,q,Object(i.jsx)(x.Toast,{ref:T,position:"bottom-right"}),Object(i.jsx)(j.Button,{onClick:function(){w("Add"),l(!0)},label:"Add",icon:"pi pi-plus",className:"btn-add-photo"}),Object(i.jsx)(m.a,{type:"Puff",className:"spinner",color:"#00BFFF",height:100,width:100,visible:C})]})};var D=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(o,{}),Object(i.jsx)("div",{className:"p-grid",children:Object(i.jsx)("div",{className:"p-col-10 p-offset-1",children:Object(i.jsx)(T,{})})})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(D,{})}),document.getElementById("root")),A()},48:function(e,t,n){},49:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.46a5410c.chunk.js.map