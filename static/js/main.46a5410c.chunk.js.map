{"version":3,"sources":["components/core/Header.js","components/FormPhoto.js","services/http-common.js","components/PhotoCard.js","components/Photos.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","width","alt","loading","src","class","FormPhoto","useState","enableButton","setEnableButton","title","description","photos","formPhoto","setFormPhoto","fileUploadRef","useRef","useEffect","formEdit","loadFile","current","files","arrFile","state","map","item","blob","reader","FileReader","readAsDataURL","Promise","resolve","onloadend","result","blobToBase64","all","SetPhotoForm","a","filePhoto","onSubmit","e","preventDefault","onSaveClick","Submit","ref","accept","maxFileSize","onSelect","onClear","mode","chooseOptions","icon","style","marginTop","height","alignContent","value","onChange","target","placeholder","rows","disabled","label","axios","create","baseURL","headers","PhotoCard","photoContent","photo","header","effect","delayTime","onError","minWidth","footer","onClick","onEditClick","id","marginRight","onDeleteClick","fontFamily","margin","Photos","setPhotos","isShowDialog","setIsShowDialog","setMode","toast","GetAllPhoto","showAlert","message","status","detail","show","severity","summary","life","confirmDelete","confirmDialog","DeletePhoto","httpClient","delete","request","EditPhotoClick","get","response","data","console","log","listPhoto","photoItems","AddPhoto","post","EditPhoto","put","SearchPhoto","debounce","dialog","visible","blockScroll","onHide","position","type","color","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.46a5410c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <div className=\"header p-grid\">\r\n      <div className=\"p-col\">\r\n        <img\r\n          width=\"100px\"\r\n          alt=\"header-img\"\r\n          loading=\"lazy\"\r\n          src=\"https://image.flaticon.com/icons/png/512/2659/2659360.png\"\r\n        />\r\n        <span class=\"header-text\">Photo App</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { Button } from \"primereact/button\";\r\nimport { FileUpload } from \"primereact/fileupload\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { InputTextarea } from \"primereact/inputtextarea\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\n\r\nconst FormPhoto = (props) => {\r\n  //state enable ปุ่ม submit\r\n  const [enableButton, setEnableButton] = useState(true);\r\n  const [formPhoto, setFormPhoto] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    photos: [],\r\n  });\r\n  const fileUploadRef = useRef();\r\n\r\n  //set formEdit\r\n  useEffect(() => {\r\n    // เปลี่ยนค่าฟอร์มตาม photocard ที่ click เข้ามา\r\n    setFormPhoto({ ...props.formEdit[0] });\r\n  }, [props.formEdit]);\r\n\r\n  //validate\r\n  useEffect(() => {\r\n    if (formPhoto.title && formPhoto.description) {\r\n      setEnableButton(false);\r\n    } else {\r\n      setEnableButton(true);\r\n    }\r\n  }, [formPhoto]);\r\n\r\n  const onTemplateSelect = (e) => {\r\n    SetPhotoForm();\r\n  };\r\n\r\n  const chooseOptions = {\r\n    icon: \"pi pi-fw pi-images\",\r\n    className: \"custom-choose-btn p-button-rounded p-button-outlined\",\r\n  };\r\n\r\n  //แปลงไฟล์เป็น base64\r\n  const blobToBase64 = (blob) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(blob);\r\n    return new Promise((resolve) => {\r\n      reader.onloadend = () => {\r\n        resolve(reader.result);\r\n      };\r\n    });\r\n  };\r\n\r\n  // promise รอแปลงเสร็จ\r\n  const loadFile = () => {\r\n    if (!fileUploadRef.current.files) {\r\n      return;\r\n    }\r\n    const arrFile = fileUploadRef.current.state.files.map((item) =>\r\n      blobToBase64(item)\r\n    );\r\n\r\n    return Promise.all(arrFile);\r\n  };\r\n\r\n  const SetPhotoForm = async () => {\r\n    const filePhoto = await loadFile();\r\n    setFormPhoto({ ...formPhoto, photos: await filePhoto });\r\n  };\r\n\r\n  const onClear = (e) => {\r\n    setFormPhoto({ ...formPhoto, photos: [] });\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    props.onSaveClick(formPhoto);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-col\">\r\n      <form\r\n        onSubmit={(e) => {\r\n          Submit(e);\r\n        }}\r\n      >\r\n        <FileUpload\r\n          ref={fileUploadRef}\r\n          // ชนิดไฟล์ที่รับ\r\n          accept=\"image/*\"\r\n          // ขนาดไฟล์ที่รับ\r\n          maxFileSize={1000000}\r\n          // event เวลาเลือกไฟล์\r\n          onSelect={onTemplateSelect}\r\n          // event เคลียร์ไฟล์\r\n          onClear={onClear}\r\n          mode=\"basic\"\r\n          chooseOptions={chooseOptions}\r\n        />\r\n        <div className=\"p-grid \" style={{ marginTop: \"20px\" }}>\r\n          <div className=\"p-col-12 p-col-align-center\">\r\n            <center>\r\n              <img\r\n                src={formPhoto.photos}\r\n                style={{\r\n                  height: \"400px\",\r\n                  alignContent: \"center\",\r\n                }}\r\n              />\r\n            </center>\r\n          </div>\r\n\r\n          <div className=\"p-col-12\">\r\n            <InputText\r\n              value={formPhoto.title}\r\n              onChange={(e) => {\r\n                setFormPhoto({ ...formPhoto, title: e.target.value });\r\n              }}\r\n              placeholder=\"Title\"\r\n              className=\"width-full-grid\"\r\n            />\r\n          </div>\r\n          <div className=\"p-col-12 width-full-grid\">\r\n            <InputTextarea\r\n              placeholder=\"Description\"\r\n              rows={4}\r\n              value={formPhoto.description}\r\n              onChange={(e) => {\r\n                setFormPhoto({ ...formPhoto, description: e.target.value });\r\n              }}\r\n              className=\"width-full-grid\"\r\n            />\r\n          </div>\r\n          <div className=\"p-col-12\">\r\n            <Button\r\n              disabled={enableButton}\r\n              label=\"Save\"\r\n              className=\"width-full-grid\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormPhoto;\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:4000\",\r\n  headers: {\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\n","import { Button } from \"primereact/button\";\r\nimport { Card } from \"primereact/card\";\r\nimport React from \"react\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\n\r\nconst PhotoCard = (props) => {\r\n  //ตัวแปรรับค่าจาก props.photo\r\n  const photoContent = props.photo;\r\n  const header = photoContent.photos && (\r\n    <center>\r\n      <LazyLoadImage\r\n        src={photoContent.photos}\r\n        alt=\"Card\"\r\n        loading=\"lazy\"\r\n        effect=\"opacity\"\r\n        delayTime={1000}\r\n        onError={(e) =>\r\n          (e.target.src =\r\n            \"https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png\")\r\n        }\r\n        style={{ height: \"450px\", minWidth: \"300px\" }}\r\n      />\r\n    </center>\r\n  );\r\n  const footer = (\r\n    <span>\r\n      <Button\r\n        label=\"Edit\"\r\n        icon=\"pi pi-pencil\"\r\n        onClick={() => {\r\n          props.onEditClick(photoContent.id);\r\n        }}\r\n        style={{ marginRight: \".25em\" }}\r\n      />\r\n      <Button\r\n        label=\"Delete\"\r\n        icon=\"pi pi-times\"\r\n        className=\"p-button-secondary\"\r\n        onClick={() => {\r\n          props.onDeleteClick(photoContent.id);\r\n        }}\r\n      />\r\n    </span>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Card footer={footer} header={header} className=\"card-photo p-shadow-3\">\r\n        {/* title */}\r\n        {photoContent.title}\r\n        <h1 style={{ fontFamily: \"Mali\", margin: \"0px\" }}></h1>\r\n        <br />\r\n        {/* description */}\r\n        {photoContent.description}\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PhotoCard;\r\n","import { Button } from \"primereact/button\";\r\nimport { confirmDialog } from \"primereact/confirmdialog\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport FormPhoto from \"./FormPhoto\";\r\nimport httpClient from \"../services/http-common\";\r\nimport PhotoCard from \"./PhotoCard\";\r\nimport { debounce } from \"lodash\";\r\n\r\nconst Photos = () => {\r\n  // ข้อมูลทั้งหมด\r\n  const [photos, setPhotos] = useState([]);\r\n  // Binding กับ dialog\r\n  const [isShowDialog, setIsShowDialog] = useState(false);\r\n  // โหมด add and edit\r\n  const [mode, setMode] = useState(\"Add\");\r\n  // รอโหลด request จาก api\r\n  const [loading, setLoading] = useState(false);\r\n  // reference ถึง toast ในหน้าจอเรานะ\r\n  const toast = useRef(null);\r\n  // form state\r\n  const [formPhoto, setFormPhoto] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    photos: [],\r\n  });\r\n\r\n  // คิวรี่ข้อมูลตอนแรกสุด\r\n  useEffect(() => {\r\n    GetAllPhoto();\r\n  }, []);\r\n\r\n  //แสดงแจ้งเตือน\r\n  const showAlert = (message, status, detail) => {\r\n    toast.current.show({\r\n      severity: status,\r\n      summary: message,\r\n      detail: detail,\r\n      life: 3000,\r\n    });\r\n  };\r\n\r\n  // คอนเฟิมว่าจะลบนะ\r\n  const confirmDelete = (id) => {\r\n    confirmDialog({\r\n      message: \"Are you sure you want to proceed?\",\r\n      header: \"Confirmation\",\r\n      icon: \"pi pi-exclamation-triangle\",\r\n      accept: () => {\r\n        DeletePhoto(id);\r\n      },\r\n    });\r\n  };\r\n\r\n  //ลบข้อมูล\r\n  const DeletePhoto = async (id) => {\r\n    try {\r\n      const request = await httpClient.delete(\"/photos/\" + id);\r\n      const response = await request;\r\n      if (response.status === 200) {\r\n        showAlert(\"Success\", \"success\", \"Delete Success\");\r\n        setIsShowDialog(false);\r\n        GetAllPhoto();\r\n      }\r\n    } catch (error) {\r\n      showAlert(\"Failed\", \"error\", error.message);\r\n    }\r\n  };\r\n\r\n  const EditPhotoClick = async (id) => {\r\n    setMode(\"Edit\");\r\n    try {\r\n      const request = await httpClient.get(\"photos/\" + id);\r\n      const response = await request;\r\n      if (response.status === 200) {\r\n        setIsShowDialog(true);\r\n        setFormPhoto(response.data);\r\n        console.log(response.data);\r\n      }\r\n    } catch (error) {\r\n      showAlert(\"Error\", \"error\", error.message);\r\n    }\r\n  };\r\n\r\n  // ตัวแปรสร้าง photoCard\r\n  const listPhoto =\r\n    photos &&\r\n    photos.map((photoItems) => {\r\n      return (\r\n        <div key={photoItems.id} className=\"p-col-12 p-md-6 p-lg-4\">\r\n          <PhotoCard\r\n            onDeleteClick={confirmDelete}\r\n            onEditClick={EditPhotoClick}\r\n            photo={photoItems}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n\r\n  //กดปุ่ม save จากหน้า form\r\n  const SubmitPhoto = (formPhoto) => {\r\n    switch (mode) {\r\n      case \"Add\":\r\n        AddPhoto(formPhoto);\r\n        break;\r\n      case \"Edit\":\r\n        EditPhoto(formPhoto);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  //คิวรี่ข้อมูลครับ\r\n  const GetAllPhoto = async () => {\r\n    try {\r\n      const request = await httpClient.get(\"/photos\");\r\n      const response = await request;\r\n      if (response.status === 200) {\r\n        console.log(response.data);\r\n        setPhotos(response.data);\r\n      }\r\n    } catch (error) {\r\n      showAlert(\"Failed\", \"error\", error.message);\r\n    }\r\n  };\r\n\r\n  //เพิ่มข้อมูลครับ\r\n  const AddPhoto = async (formPhoto) => {\r\n    try {\r\n      const request = await httpClient.post(\"/photos\", formPhoto);\r\n      const response = await request;\r\n      if (response.status === 201) {\r\n        showAlert(\"Success\", \"success\", \"Insert Success\");\r\n        setIsShowDialog(false);\r\n        GetAllPhoto();\r\n      }\r\n    } catch (error) {\r\n      showAlert(\"Failed\", \"error\", error.message);\r\n    }\r\n  };\r\n\r\n  const EditPhoto = async (formPhoto) => {\r\n    try {\r\n      const request = await httpClient.put(\r\n        `/photos/${formPhoto.id}`,\r\n        formPhoto\r\n      );\r\n      const response = await request;\r\n      if (response.status === 200) {\r\n        showAlert(\"Success\", \"success\", \"Insert Success\");\r\n        setIsShowDialog(false);\r\n        GetAllPhoto();\r\n      }\r\n    } catch (error) {\r\n      showAlert(\"Failed\", \"error\", error.message);\r\n    }\r\n  };\r\n\r\n  //ค้นหาข้อมูล\r\n  const SearchPhoto = debounce(async (e) => {\r\n    try {\r\n      const request = await httpClient.get(\r\n        \"/photos?searchText=\" + e.target.value\r\n      );\r\n      const response = await request;\r\n      if (response.status === 200) {\r\n        console.log(response.data);\r\n        setPhotos(response.data);\r\n      }\r\n    } catch (error) {\r\n      showAlert(\"Failed\", \"error\", error.message);\r\n    }\r\n  }, 500);\r\n\r\n  //dialog โชว์ฟอร์ม\r\n  const dialog = (\r\n    <Dialog\r\n      header={`${mode} Photo`}\r\n      visible={isShowDialog}\r\n      blockScroll={true}\r\n      style={{ width: 1000 }}\r\n      onHide={() => {\r\n        setFormPhoto({});\r\n        setIsShowDialog(false);\r\n      }}\r\n    >\r\n      <div className=\"p-grid\">\r\n        <FormPhoto formEdit={formPhoto} onSaveClick={SubmitPhoto} />\r\n      </div>\r\n    </Dialog>\r\n  );\r\n\r\n  return (\r\n    <div className=\"p-grid\" style={{ marginTop: \"200px\" }}>\r\n      <InputText\r\n        placeholder=\"Search\"\r\n        className=\"width-full-grid search-input\"\r\n        onChange={(e) => {\r\n          SearchPhoto(e);\r\n        }}\r\n      />\r\n\r\n      {listPhoto}\r\n\r\n      {dialog}\r\n\r\n      <Toast ref={toast} position=\"bottom-right\" />\r\n\r\n      <Button\r\n        onClick={() => {\r\n          setMode(\"Add\");\r\n          setIsShowDialog(true);\r\n        }}\r\n        label=\"Add\"\r\n        icon=\"pi pi-plus\"\r\n        className=\"btn-add-photo\"\r\n      />\r\n\r\n      <Loader\r\n        type=\"Puff\"\r\n        className=\"spinner\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        visible={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Photos;\r\n","import \"./App.css\";\nimport Header from \"./components/core/Header\";\nimport Photos from \"./components/Photos\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className=\"p-grid\">\n        <div className=\"p-col-10 p-offset-1\">\n          <Photos />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}